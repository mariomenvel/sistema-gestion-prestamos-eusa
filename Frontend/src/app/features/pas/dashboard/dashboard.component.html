<!-- Dashboard PAS -->
<div class="dashboard">

  <!-- TÃ­tulo principal -->
  <h1 class="dashboard-title">Dashboard</h1>

  <!-- Cards de mÃ©tricas -->
  <div class="metrics-cards">
    
    <!-- Card: Solicitudes Pendientes -->
    <div class="metric-card">
      <div class="metric-number number-orange">{{ solicitudesPendientes }}</div>
      <div class="metric-label">Solicitudes Pendientes</div>
    </div>

    <!-- Card: PrÃ©stamos Activos -->
    <div class="metric-card">
      <div class="metric-number number-green">{{ prestamosActivos }}</div>
      <div class="metric-label">PrÃ©stamos Activos</div>
    </div>

    <!-- Card: Devoluciones Hoy -->
    <div class="metric-card">
      <div class="metric-number number-blue">{{ devolucionesHoy }}</div>
      <div class="metric-label">Devoluciones Hoy</div>
    </div>

    <!-- Card: Materiales en Uso -->
    <div class="metric-card">
      <div class="metric-number number-purple">{{ materialesEnUso }}</div>
      <div class="metric-label">Materiales en Uso</div>
    </div>

  </div>

  <!-- SecciÃ³n de prÃ©stamos activos -->
  <div class="prestamos-section">
    
    <!-- TÃ­tulo de secciÃ³n -->
    <h2 class="section-title">Solicitudes Pendientes</h2>

    <!-- Tabla de prÃ©stamos -->
    <div class="prestamos-table">
      
      <!-- Header de la tabla -->
      <div class="table-header">
        <div class="th th-alumno">Alumno</div>
        <div class="th th-material">Material</div>
        <div class="th th-tipo">Tipo de Solicitud</div>
        <div class="th th-fecha-solicitud">Fecha de Solicitud</div>
        <div class="th th-estado">Estado</div>
      </div>

      <!-- Body de la tabla -->
      <div class="table-body">
        
        <!-- Loading -->
        <div class="empty-state" *ngIf="isLoadingPrestamos">
          <p>Cargando solicitudes...</p>
        </div>

        <!-- Error -->
        <div class="empty-state error" *ngIf="errorMessagePrestamos">
          <p>{{ errorMessagePrestamos }}</p>
        </div>

        <!-- Sin solicitudes pendientes -->
        <div class="empty-state" *ngIf="!isLoadingPrestamos && !errorMessagePrestamos && prestamosActivosData.length === 0">
          <p>No hay solicitudes pendientes</p>
        </div>

        <!-- Filas de solicitudes -->
        <div 
          class="table-row" 
          *ngFor="let solicitud of prestamosActivosData"
        >
          <!-- Columna: Alumno -->
          <div class="td td-alumno">
            <strong>{{ getNombreAlumno(solicitud) }}</strong>
          </div>

          <!-- Columna: Material -->
          <div class="td td-material">
            <div class="material-info">
              <div class="material-icon">ðŸ“¦</div>
              <span>{{ getNombreMaterial(solicitud) }}</span>
            </div>
          </div>

          <!-- Columna: Tipo de Solicitud -->
          <div class="td td-tipo">
            {{ getTipoTexto(solicitud.tipo) }}
          </div>

          <!-- Columna: Fecha de Solicitud -->
          <div class="td td-fecha-solicitud">
            {{ formatearFecha(solicitud.fecha_inicio) }}
          </div>

          <!-- Columna: Estado -->
          <div class="td td-estado">
            <span 
              class="badge"
              [ngClass]="getEstadoClass(solicitud.estado)"
            >
              {{ getEstadoTexto(solicitud.estado) }}
            </span>
          </div>
        </div>

      </div>

    </div>

    <!-- BotÃ³n Ver todas las Solicitudes -->
    <button 
      class="btn-ver-solicitudes"
      (click)="verTodasSolicitudes()"
    >
      Ver todas las Solicitudes
    </button>

  </div>

</div>